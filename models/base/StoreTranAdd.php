<?php
// This class was automatically generated by a giiant build task
// You should not change it manually as it will be overwritten on next build

namespace d3yii2\d3store\models\base;

use Yii;
use d3system\yii2\validators\D3TrimValidator;
use d3yii2\d3store\models\StoreTranAddType;
use d3yii2\d3store\models\StoreTransactions;
use yii\db\ActiveQuery;
use yii\db\ActiveRecord;

/**
 * This is the base-model class for table "store_tran_add".
 *
 * @property integer $id
 * @property integer $transactions_id
 * @property integer $type_id
 * @property float $quantity
 * @property float $remain_quantity
 * @property string $ref_record_id
 *
 * @property StoreTransactions $transactions
 * @property StoreTranAddType $type
 * @property string $aliasModel
 */
abstract class StoreTranAdd extends ActiveRecord
{

    /**
     * @inheritdoc
     */
    public static function tableName(): string
    {
        return 'store_tran_add';
    }

    /**
     * @inheritdoc
     */
    public function rules(): array
    {
        return [
            'trimNumbers' => [['id','transactions_id','type_id','quantity','remain_quantity','ref_record_id'],D3TrimValidator::class, 'trimOnlyStringValues' => true],
            'required' => [['transactions_id', 'type_id', 'quantity', 'remain_quantity'], 'required'],
            'decimal-signed-13-3' => [
                ['quantity', 'remain_quantity'],
                    'number',
                    'numberPattern' => '/^([\+-]?((\d{1,10})|(\d{0,10}\.\d{0,3})|(\.\d{1,3})))$/',
                    'message' =>  Yii::t(
                        'crud',
                        'The number format is invalid. Ensure it has at most {integers} digits with up to {decimals} decimal places.',
                        [
                            'integers' => 10,
                            'decimals' => 3
                        ]
                    )
                ],
            'tinyint Unsigned' => [['type_id'],'integer' ,'min' => 0 ,'max' => 255],
            'integer Unsigned' => [['id','transactions_id'],'integer' ,'min' => 0 ,'max' => 4294967295],
            'bigint Unsigned' => [['ref_record_id'],'integer' ,'min' => 0 ,'max' => 1.844674407371E+19],
            [['ref_record_id'], 'default', 'value' => null],
            [['quantity', 'remain_quantity'], 'number'],
            [['transactions_id'], 'exist', 'skipOnError' => true, 'targetClass' => StoreTransactions::class, 'targetAttribute' => ['transactions_id' => 'id']],
            [['type_id'], 'exist', 'skipOnError' => true, 'targetClass' => StoreTranAddType::class, 'targetAttribute' => ['type_id' => 'id']]
        ];
    }

    /**
     * @inheritdoc
     */
    public function attributeLabels(): array
    {
        return [
            'id' => 'ID',
            'transactions_id' => 'Transactions ID',
            'type_id' => 'Type ID',
            'quantity' => 'Quantity',
            'remain_quantity' => 'Remain Quantity',
            'ref_record_id' => 'Ref Record ID',
        ];
    }

    /**
     * @return ActiveQuery
     */
    public function getTransactions(): ActiveQuery
    {
        return $this
            ->hasOne(StoreTransactions::class, ['id' => 'transactions_id']);
    }

    /**
     * @return ActiveQuery
     */
    public function getType(): ActiveQuery
    {
        return $this
            ->hasOne(StoreTranAddType::class, ['id' => 'type_id']);
    }

}
